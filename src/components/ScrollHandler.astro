<script is:inline>
  const NAV_OFFSET = 100;

  function scrollToTarget(id) {
    const target = document.getElementById(id);
    if (!target) return;

    const top =
      target.getBoundingClientRect().top + window.scrollY - NAV_OFFSET;

    window.scrollTo({
      top,
      behavior: "smooth",
    });

    setTimeout(() => {
      const correctedTop =
        target.getBoundingClientRect().top + window.scrollY - NAV_OFFSET;

      window.scrollTo({
        top: correctedTop,
        behavior: "smooth",
      });
    }, 500);
  }

  document.addEventListener("click", (e) => {
    const trigger = e.target.closest("[data-scroll]");
    if (!trigger) return;

    e.preventDefault();
    scrollToTarget(trigger.dataset.scroll);
  });
</script>
